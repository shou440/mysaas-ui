(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-6e00"],{"4FUz":function(e,r,t){},"7pGV":function(e,r,t){"use strict";var s=t("4FUz");t.n(s).a},uVOl:function(e,r,t){"use strict";t.r(r);var s=t("wk8/"),o={name:"Register",data:function(){var e=this;return{registerForm:{username:"",password:"",checkPass:"",phone:"",smsCode:""},rules2:{username:[{required:!0,message:"请输入用户名",trigger:"blur"},{pattern:/^[a-zA-Z0-9_]{4,8}$/,message:"以字母开头，长度在4-8之间， 只能包含字符、数字和下划线"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{min:6,message:"密码长度最少为6位",trigger:"blur"},{validator:function(r,t,s){""===t?s(new Error("请输入密码")):(""!==e.registerForm.checkPass&&e.$refs.ruleForm2.validateField("checkPass"),s())},trigger:"change"}],checkPass:[{validator:function(r,t,s){""===t?s(new Error("请再次输入密码")):t!==e.registerForm.password?s(new Error("两次输入密码不一致!")):s()},trigger:"change"}],phone:[{required:!0,message:"请输入手机号",trigger:"blur"},{validator:function(r,t,s){""===t?s(new Error("请输入手机号码")):e.checkMobile(t)?s():s(new Error("手机号码不合法"))},trigger:"change"}],smsCode:[{validator:function(e,r,t){""===r?t(new Error("请输入手机验证码")):t()},trigger:"change"}]},buttonText:"发送验证码",isDisabled:!1,flag:!0}},methods:{sendCode:function(){var e=this,r=this.registerForm.phone;this.checkMobile(r)&&(console.log(r),Object(s.l)(r).then(function(r){if(200===r.data.code){e.$message({showClose:!0,message:"发送成功，验证码有效期2分钟",type:"success"});var t=60;if(e.buttonText="已发送",e.isDisabled=!0,e.flag){e.flag=!1;var s=setInterval(function(){t--,e.buttonText=t+" 秒",0===t&&(clearInterval(s),e.buttonText="重新获取",e.isDisabled=!1,e.flag=!0)},1e3)}}}))},submitForm:function(e){var r=this;this.$refs[e].validate(function(e){if(!e)return console.log("error submit!!"),!1;Object(s.i)(r.registerForm).then(function(e){200===e.data.code?(r.$notify({title:"成功",message:"注册账号成功,2秒后返回登录页面",type:"success"}),setTimeout(function(){r.$router.push({path:"/login"})},2e3)):r.$message({type:"error",message:e.data.msg})})})},gotoLogin:function(){this.$router.push({path:"/login"})},checkMobile:function(e){return/^1[3456789]\d{9}$/.test(e)}}},i=(t("7pGV"),t("ZrdR")),a=Object(i.a)(o,function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("div",[t("div",{staticClass:"register-wrapper"},[t("div",{attrs:{id:"register"}},[e._m(0),e._v(" "),t("el-form",{ref:"ruleForm2",staticClass:"demo-ruleForm",attrs:{model:e.registerForm,"status-icon":"",rules:e.rules2,"label-width":"0"}},[t("el-form-item",{attrs:{prop:"username"}},[t("el-input",{attrs:{"auto-complete":"off",placeholder:"输入用户名"},model:{value:e.registerForm.username,callback:function(r){e.$set(e.registerForm,"username",r)},expression:"registerForm.username"}})],1),e._v(" "),t("el-form-item",{attrs:{prop:"phone"}},[t("el-input",{attrs:{"auto-complete":"off",placeholder:"请输入手机号"},model:{value:e.registerForm.phone,callback:function(r){e.$set(e.registerForm,"phone",r)},expression:"registerForm.phone"}})],1),e._v(" "),t("el-form-item",{staticClass:"code",attrs:{prop:"smsCode"}},[t("el-input",{staticStyle:{width:"234px"},attrs:{placeholder:"验证码"},model:{value:e.registerForm.smsCode,callback:function(r){e.$set(e.registerForm,"smsCode",r)},expression:"registerForm.smsCode"}}),e._v(" "),t("el-button",{attrs:{type:"primary",disabled:e.isDisabled},on:{click:e.sendCode}},[e._v(e._s(e.buttonText))])],1),e._v(" "),t("el-form-item",{attrs:{prop:"password"}},[t("el-input",{attrs:{type:"password","auto-complete":"off",placeholder:"输入密码"},model:{value:e.registerForm.password,callback:function(r){e.$set(e.registerForm,"password",r)},expression:"registerForm.password"}})],1),e._v(" "),t("el-form-item",{attrs:{prop:"checkPass"}},[t("el-input",{attrs:{type:"password","auto-complete":"off",placeholder:"确认密码"},model:{value:e.registerForm.checkPass,callback:function(r){e.$set(e.registerForm,"checkPass",r)},expression:"registerForm.checkPass"}})],1),e._v(" "),t("el-form-item",[t("el-button",{staticStyle:{width:"100%"},attrs:{type:"primary"},on:{click:function(r){e.submitForm("ruleForm2")}}},[e._v("注册")]),e._v(" "),t("p",{staticClass:"login",on:{click:e.gotoLogin}},[e._v("已有账号？立即登录")])],1)],1)],1)])])},[function(){var e=this.$createElement,r=this._self._c||e;return r("div",{staticClass:"header"},[r("img",{attrs:{src:"/favicon.ico"}}),this._v(" "),r("p",{staticClass:"title"},[this._v("MB快充水电平台注册")])])}],!1,null,"6c5eb883",null);a.options.__file="register.vue";r.default=a.exports}}]);